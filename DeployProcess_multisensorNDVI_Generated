<?xml version="1.0" encoding="UTF-8"?>
<wps:DeployProcess service="WPS" version="2.0.0" xmlns:wps="http://www.opengis.net/wps/2.0" xmlns:ows="http://www.opengis.net/ows/2.0" xmlns:owc="http://www.opengis.net/owc/1.0" xmlns:eoc="http://www.opengis.net/wps/2.0/profile/tb13/eoc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<wps:ProcessOffering xmlns:wps="http://www.opengis.net/wps/2.0" xmlns:ows="http://www.opengis.net/ows/2.0" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:atom="http://www.w3.org/2005/Atom" jobControlOptions="async-execute dismiss" outputTransmission="value reference">
		<wps:Process>
			<ows:Title>MultiSensor NDVI</ows:Title>
			<ows:Identifier>multisensor_ndvi</ows:Identifier>
			<!-- The CWL file reference is provided here -->
			<ows:Metadata  xlink:role="http://www.opengis.net/eoc/applicationContext/cwl/refernece" xlink:href="http://somewhere.com/cwl/multisensor_ndvi.cwl" />
			<!--  INPUT IMAGES  -->
			<!--  CATALOGUE SEARCH PARAMETERS (generated by the EMS) -->
			<!--  START DATE  -->
			<wps:Input>
				<ows:Title>Start Date</ows:Title>
				<ows:Identifier>startDate</ows:Identifier>
				<!-- The following block includes all CWL properties -->
				<ows:AdditionalParameters xlink:role="http://www.opengis.net/eoc/applicationContext/cwl">
					<ows:AdditionalParameter>
						<ows:Name>position</ows:Name>
						<ows:Value>1</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>prefix</ows:Name>
						<ows:Value>startDate</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>separate</ows:Name>
						<ows:Value>false</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>itemSeparator</ows:Name>
						<ows:Value>=</ows:Value>
					</ows:AdditionalParameter>
				</ows:AdditionalParameters>
				<wps:LiteralData>
					<wps:Format mimeType="text/plain" default="true"/>
					<LiteralDataDomain default="true">
						<ows:AnyValue/>
						<ows:DataType ows:reference="http://www.w3.org/2001/XMLSchema#dateTime">dateTime</ows:DataType>
					</LiteralDataDomain>
				</wps:LiteralData>
			</wps:Input>
			<!--  END DATE  -->
			<wps:Input>
				<ows:Title>End Date</ows:Title>
				<ows:Identifier>endDate</ows:Identifier>
				<!-- The following block includes all CWL properties -->
				<ows:AdditionalParameters xlink:role="http://www.opengis.net/eoc/applicationContext/cwl">
					<ows:AdditionalParameter>
						<ows:Name>position</ows:Name>
						<ows:Value>2</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>prefix</ows:Name>
						<ows:Value>endDate</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>separate</ows:Name>
						<ows:Value>false</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>itemSeparator</ows:Name>
						<ows:Value>=</ows:Value>
					</ows:AdditionalParameter>
				</ows:AdditionalParameters>
				<wps:LiteralData>
					<wps:Format mimeType="text/plain" default="true"/>
					<LiteralDataDomain default="true">
						<ows:AnyValue/>
						<ows:DataType ows:reference="http://www.w3.org/2001/XMLSchema#dateTime">dateTime</ows:DataType>
					</LiteralDataDomain>
				</wps:LiteralData>
			</wps:Input>
			<!--  AREA OF INTEREST  -->
			<wps:Input>
				<ows:Title>Area Of Interest</ows:Title>
				<ows:Identifier>aoi</ows:Identifier>
				<!-- The following block includes all CWL properties -->
				<ows:AdditionalParameters xlink:role="http://www.opengis.net/eoc/applicationContext/cwl">
					<ows:AdditionalParameter>
						<ows:Name>position</ows:Name>
						<ows:Value>3</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>prefix</ows:Name>
						<ows:Value>aoi</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>separate</ows:Name>
						<ows:Value>false</ows:Value>
					</ows:AdditionalParameter>
					<ows:AdditionalParameter>
						<ows:Name>itemSeparator</ows:Name>
						<ows:Value>=</ows:Value>
					</ows:AdditionalParameter>
				</ows:AdditionalParameters>
				<wps:LiteralData>
					<wps:Format mimeType="application/wkt" default="true"/>
					<LiteralDataDomain default="true">
						<ows:AnyValue/>
						<ows:DataType ows:reference="http://www.w3.org/2001/XMLSchema#string">string</ows:DataType>
					</LiteralDataDomain>
				</wps:LiteralData>
			</wps:Input>
			<!--  NDVI OUTPUT FILE(S)  -->
			<wps:Output>
				<ows:Title>GeoTIF Image</ows:Title>
				<ows:Abstract>Labeled GeoTIF file containing, for each pixel, one of the class codes specified in the training reference data.</ows:Abstract>
				<ows:Identifier>output</ows:Identifier>
				<wps:ComplexData>
					<wps:Format mimeType="image/tiff" default="true"/>
				</wps:ComplexData>
				<ows:AdditionalParameters xlink:role="http://www.opengis.net/profiles/eoc/output">
					<!-- Path provides the path of the output-->
					<ows:AdditionalParameter>
						<ows:Name>path</ows:Name>
						<ows:Value>output/image.tiff</ows:Value>
					</ows:AdditionalParameter>
				</ows:AdditionalParameters>
			</wps:Output>
		</wps:Process>
	</wps:ProcessOffering>
	<wps:DeploymentProfile>
		<!-- The deployment profile is a WPS-T property to define the application package format (in this case the dockerized application for EOC)-->
		<wps:DeploymentProfileName>http://www.opengis.net/profiles/eoc/dockerizedApplicationxsd</wps:DeploymentProfileName>
		<wps:ExecutionUnit>
			<!-- In our case, the Execution Unit is not a BPEL, a Java, but is the Docker Image reference -->
			<wps:Reference href="registry.hub.docker.com/testbed14/multisensor_ndvi"/>
		</wps:ExecutionUnit>
	</wps:DeploymentProfile>
</wps:DeployProcess>
